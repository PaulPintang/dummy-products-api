{"version":3,"sources":["main.js"],"names":["baseurl","btnResponse","document","querySelectorAll","viewResponse","form","getElementById","formLoader","formSuccess","formFailed","displaySuccessMsg","displayFailedMsg","inputEmail","forEach","btn","addEventListener","event","action","target","dataset","responseView","view","style","display","async","preventDefault","raw","fetch","method","headers","Content-Type","body","JSON","stringify","email","value","res","json","textContent","message","remove","localStorage","setItem","error"],"mappings":"AAAA,MAAMA,QAAU,wBACVC,YAAcC,SAASC,iBAAiB,aACxCC,aAAeF,SAASC,iBAAiB,mBACzCE,KAAOH,SAASI,eAAe,eAC/BC,WAAaL,SAASI,eAAe,oBACrCE,YAAcN,SAASI,eAAe,qBACtCG,WAAaP,SAASI,eAAe,oBACrCI,kBAAoBR,SAASI,eAAe,mBAC5CK,iBAAmBT,SAASI,eAAe,kBAC3CM,WAAaV,SAASI,eAAe,SAG3CL,YAAYY,SAAQC,IAChBA,EAAIC,iBAAiB,SAAS,SAAUC,GACpC,MAAMC,OAAEA,GAAWD,EAAME,OAAOC,QAEhCf,aAAaS,SAAQO,IACjB,MAAMC,KAAEA,GAASD,EAAaD,QAGxBC,EAAaE,MAAMC,QADzBN,IAAWI,EACwB,QACA,gBAM/ChB,KAAKU,iBAAiB,UAAUS,eAAgBR,GAC5C,IACIA,EAAMS,iBACNpB,KAAKiB,MAAMC,QAAU,OACrBhB,WAAWe,MAAMC,QAAU,OAE3B,MAAMG,QAAYC,MAAM,GAAG3B,kBAAmB,CAC1C4B,OAAQ,OACRC,QAAS,CACLC,eAAgB,oBAEpBC,KAAMC,KAAKC,UAAU,CAAEC,MAAOtB,WAAWuB,UAGvCC,QAAYV,EAAIW,OAEtB3B,kBAAkB4B,YAAcF,EAAIG,QACpC/B,YAAYc,MAAMC,QAAU,OAC5BhB,WAAWiC,SACX/B,WAAW+B,SACXnC,KAAKmC,SACLC,aAAaC,QAAQ,mBAAoB,QAG7C,MAAOC,GACHtC,KAAKmC,SACLhC,YAAYgC,SACZjC,WAAWiC,SACX/B,WAAWa,MAAMC,QAAU","file":"main.js","sourcesContent":["const baseurl = 'http://localhost:5050';\nconst btnResponse = document.querySelectorAll('.response');\nconst viewResponse = document.querySelectorAll('.route-response');\nconst form = document.getElementById('form-apikey');\nconst formLoader = document.getElementById('container-loader');\nconst formSuccess = document.getElementById('container-success');\nconst formFailed = document.getElementById('container-failed');\nconst displaySuccessMsg = document.getElementById('success-message');\nconst displayFailedMsg = document.getElementById('failed-message');\nconst inputEmail = document.getElementById('email');\n\n// onlick of viewing a response\nbtnResponse.forEach(btn => {\n    btn.addEventListener('click', function (event) {\n        const { action } = event.target.dataset;\n\n        viewResponse.forEach(responseView => {\n            const { view } = responseView.dataset;\n\n            action === view\n                ? responseView.style.display = 'block'\n                : responseView.style.display = 'none'\n        })\n    })\n})\n\n// form onsubmit to get an apikey\nform.addEventListener('submit', async function (event) {\n    try {\n        event.preventDefault();\n        form.style.display = 'none';\n        formLoader.style.display = 'flex';\n\n        const raw = await fetch(`${baseurl}/api/key`, {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({ email: inputEmail.value })\n        });\n\n        const res = await raw.json();\n\n        displaySuccessMsg.textContent = res.message;\n        formSuccess.style.display = 'flex';\n        formLoader.remove();\n        formFailed.remove();\n        form.remove();\n        localStorage.setItem('apikey_requested', 'true')\n    }\n\n    catch (error) {\n        form.remove();\n        formSuccess.remove();\n        formLoader.remove();\n        formFailed.style.display = 'flex';\n    }\n})"]}